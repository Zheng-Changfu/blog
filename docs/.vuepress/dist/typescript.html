<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Typescript 个人笔记 | 小惠喜欢常富</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="始终坚信努力可以改变生活">
    
    <link rel="preload" href="/assets/css/0.styles.03359be0.css" as="style"><link rel="preload" href="/assets/js/app.79aff25b.js" as="script"><link rel="preload" href="/assets/js/2.69b5c96a.js" as="script"><link rel="preload" href="/assets/js/16.c4a3319a.js" as="script"><link rel="prefetch" href="/assets/js/10.54176137.js"><link rel="prefetch" href="/assets/js/11.54d077ab.js"><link rel="prefetch" href="/assets/js/12.d81c00ac.js"><link rel="prefetch" href="/assets/js/13.219c8ddd.js"><link rel="prefetch" href="/assets/js/14.cab28efb.js"><link rel="prefetch" href="/assets/js/15.d4131eb4.js"><link rel="prefetch" href="/assets/js/17.5d1e0a6a.js"><link rel="prefetch" href="/assets/js/18.68396d88.js"><link rel="prefetch" href="/assets/js/19.36f4e0f0.js"><link rel="prefetch" href="/assets/js/20.d63d21a6.js"><link rel="prefetch" href="/assets/js/3.76967202.js"><link rel="prefetch" href="/assets/js/4.e78ea03a.js"><link rel="prefetch" href="/assets/js/5.b1c69585.js"><link rel="prefetch" href="/assets/js/6.8697b249.js"><link rel="prefetch" href="/assets/js/7.f87ea2ab.js"><link rel="prefetch" href="/assets/js/8.7d165454.js"><link rel="prefetch" href="/assets/js/9.2b235fd5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.03359be0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">小惠喜欢常富</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/monitor.html" class="nav-link">
  前端监控笔记
</a></div><div class="nav-item"><a href="/node.html" class="nav-link">
  Node笔记
</a></div><div class="nav-item"><a href="/regexp.html" class="nav-link">
  正则(RegExp)笔记
</a></div><div class="nav-item"><a href="/typescript.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Typescript笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架笔记" class="dropdown-title"><span class="title">框架笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架笔记" class="mobile-dropdown-title"><span class="title">框架笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue2.html" class="nav-link">
  Vue2笔记
</a></li><li class="dropdown-item"><!----> <a href="/vue3.html" class="nav-link">
  Vue3笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="构建笔记" class="dropdown-title"><span class="title">构建笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="构建笔记" class="mobile-dropdown-title"><span class="title">构建笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webpack5.html" class="nav-link">
  Webpack笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库笔记" class="dropdown-title"><span class="title">数据库笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库笔记" class="mobile-dropdown-title"><span class="title">数据库笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mysql.html" class="nav-link">
  Mysql笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维部署笔记" class="dropdown-title"><span class="title">运维部署笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维部署笔记" class="mobile-dropdown-title"><span class="title">运维部署笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/linux.html" class="nav-link">
  Linux笔记
</a></li><li class="dropdown-item"><!----> <a href="/nginx.html" class="nav-link">
  Nginx笔记
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Zheng-Changfu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/monitor.html" class="nav-link">
  前端监控笔记
</a></div><div class="nav-item"><a href="/node.html" class="nav-link">
  Node笔记
</a></div><div class="nav-item"><a href="/regexp.html" class="nav-link">
  正则(RegExp)笔记
</a></div><div class="nav-item"><a href="/typescript.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Typescript笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架笔记" class="dropdown-title"><span class="title">框架笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架笔记" class="mobile-dropdown-title"><span class="title">框架笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue2.html" class="nav-link">
  Vue2笔记
</a></li><li class="dropdown-item"><!----> <a href="/vue3.html" class="nav-link">
  Vue3笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="构建笔记" class="dropdown-title"><span class="title">构建笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="构建笔记" class="mobile-dropdown-title"><span class="title">构建笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webpack5.html" class="nav-link">
  Webpack笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库笔记" class="dropdown-title"><span class="title">数据库笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库笔记" class="mobile-dropdown-title"><span class="title">数据库笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mysql.html" class="nav-link">
  Mysql笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维部署笔记" class="dropdown-title"><span class="title">运维部署笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维部署笔记" class="mobile-dropdown-title"><span class="title">运维部署笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/linux.html" class="nav-link">
  Linux笔记
</a></li><li class="dropdown-item"><!----> <a href="/nginx.html" class="nav-link">
  Nginx笔记
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Zheng-Changfu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Typescript 个人笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/typescript.html#一-什么是-typescript" class="sidebar-link">一. 什么是 Typescript</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/typescript.html#二、基本类型" class="sidebar-link">二、基本类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript.html#_1-基本类型和类类型的区别" class="sidebar-link">1. 基本类型和类类型的区别</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_2-数组类型" class="sidebar-link">2. 数组类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_3-元祖类型" class="sidebar-link">3. 元祖类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_4-枚举类型" class="sidebar-link">4. 枚举类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_5-undefined-和-null-类型" class="sidebar-link">5. undefined 和 null 类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_6-never-类型" class="sidebar-link">6. never 类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_7-void-类型" class="sidebar-link">7. void 类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_8-object-类型" class="sidebar-link">8. object 类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_9-symbol-类型" class="sidebar-link">9. symbol 类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_10-bigint-类型" class="sidebar-link">10. bigint 类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_11-any-类型" class="sidebar-link">11. any 类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_12-字面量类型" class="sidebar-link">12. 字面量类型</a></li></ul></li><li><a href="/typescript.html#三、断言" class="sidebar-link">三、断言</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript.html#_1-非空断言" class="sidebar-link">1. 非空断言</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_2-as-断言" class="sidebar-link">2. as 断言</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_3-双重断言" class="sidebar-link">3. 双重断言</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_4-等同-as-语法的另一种写法" class="sidebar-link">4. 等同 as 语法的另一种写法</a></li></ul></li><li><a href="/typescript.html#四、函数" class="sidebar-link">四、函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript.html#_1-函数声明标识类型" class="sidebar-link">1. 函数声明标识类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_2-表达式声明标识类型" class="sidebar-link">2. 表达式声明标识类型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_3-函数的默认值" class="sidebar-link">3. 函数的默认值</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_4-函数的可选参数" class="sidebar-link">4. 函数的可选参数</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_5-函数的剩余参数" class="sidebar-link">5. 函数的剩余参数</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_6-函数的-this" class="sidebar-link">6. 函数的 this</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_7-函数的重载" class="sidebar-link">7. 函数的重载</a></li></ul></li><li><a href="/typescript.html#五、类" class="sidebar-link">五、类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript.html#_1-属性修饰符" class="sidebar-link">1. 属性修饰符</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_2-外界不能-new-可以继承" class="sidebar-link">2. 外界不能 new,可以继承</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_3-外界不能-new-不能继承" class="sidebar-link">3. 外界不能 new,不能继承</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_4-小结-2" class="sidebar-link">4. 小结</a></li></ul></li><li><a href="/typescript.html#六、接口" class="sidebar-link">六、接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript.html#_1-描述函数" class="sidebar-link">1. 描述函数</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_2-描述函数上的属性" class="sidebar-link">2. 描述函数上的属性</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_3-后端接口返回的数据多-interface-中没定义这么多" class="sidebar-link">3. 后端接口返回的数据多,interface 中没定义这么多</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_4-interface-修饰符" class="sidebar-link">4. interface 修饰符</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_5-描述类和类的实例" class="sidebar-link">5. 描述类和类的实例</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_6-描述实例上的属性和方法" class="sidebar-link">6. 描述实例上的属性和方法</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_7-描述构造函数" class="sidebar-link">7. 描述构造函数</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_8-interface-和-type-的区别" class="sidebar-link">8. interface 和 type 的区别</a></li></ul></li><li><a href="/typescript.html#七、泛型" class="sidebar-link">七、泛型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript.html#_1-泛型在普通函数中使用" class="sidebar-link">1. 泛型在普通函数中使用</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_2-泛型在箭头函数中使用" class="sidebar-link">2. 泛型在箭头函数中使用</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_3-泛型在-interface-中使用" class="sidebar-link">3. 泛型在 interface 中使用</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_4-泛型在-type-中使用" class="sidebar-link">4. 泛型在 type 中使用</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_5-两种泛型的区别" class="sidebar-link">5. 两种泛型的区别</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_6-多个泛型" class="sidebar-link">6. 多个泛型</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_7-泛型约束" class="sidebar-link">7. 泛型约束</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_8-keyof" class="sidebar-link">8. keyof</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_9-keyof-和-typeof-区别" class="sidebar-link">9. keyof 和 typeof 区别</a></li></ul></li><li><a href="/typescript.html#八、交叉类型和联合类型" class="sidebar-link">八、交叉类型和联合类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/typescript.html#九、内置类型实现" class="sidebar-link">九、内置类型实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript.html#_1-exclude" class="sidebar-link">1. Exclude</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_2-extract" class="sidebar-link">2. Extract</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_3-nonnullable" class="sidebar-link">3. NonNullable</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_4-partial" class="sidebar-link">4. Partial</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_5-required" class="sidebar-link">5. Required</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_6-readonly" class="sidebar-link">6. Readonly</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_7-pick" class="sidebar-link">7. Pick</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_8-omit" class="sidebar-link">8. Omit</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_9-record" class="sidebar-link">9. Record</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_10-对象的-merge" class="sidebar-link">10. 对象的 merge</a></li></ul></li><li><a href="/typescript.html#十、类型保护" class="sidebar-link">十、类型保护</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript.html#_1-typeof" class="sidebar-link">1. typeof</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_2-instanceof" class="sidebar-link">2. instanceof</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_3-in" class="sidebar-link">3. in</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_4-自定义类型保护" class="sidebar-link">4. 自定义类型保护</a></li></ul></li><li><a href="/typescript.html#十一、类型的兼容性" class="sidebar-link">十一、类型的兼容性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript.html#_1-联合类型的兼容性" class="sidebar-link">1. 联合类型的兼容性</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_2-接口的兼容性-多给少" class="sidebar-link">2. 接口的兼容性(多给少)</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_3-函数的兼容性" class="sidebar-link">3. 函数的兼容性</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_4-类的兼容性" class="sidebar-link">4. 类的兼容性</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_5-枚举的兼容性" class="sidebar-link">5. 枚举的兼容性</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_6-父子间的兼容-协变和逆变" class="sidebar-link">6. 父子间的兼容 协变和逆变</a></li></ul></li><li><a href="/typescript.html#十二、unknown" class="sidebar-link">十二、unknown</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/typescript.html#十三、infer" class="sidebar-link">十三、infer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript.html#_1-推断函数返回值" class="sidebar-link">1. 推断函数返回值</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_2-推断函数参数" class="sidebar-link">2. 推断函数参数</a></li></ul></li><li><a href="/typescript.html#十四、命名空间" class="sidebar-link">十四、命名空间</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/typescript.html#_1-基本语法" class="sidebar-link">1. 基本语法</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_2-命名空间可以和类进行合并" class="sidebar-link">2. 命名空间可以和类进行合并</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_3-命名空间可以和函数进行合并" class="sidebar-link">3. 命名空间可以和函数进行合并</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_4-命名空间和接口无法合并" class="sidebar-link">4. 命名空间和接口无法合并</a></li><li class="sidebar-sub-header"><a href="/typescript.html#_5-同名的命名空间可以合并" class="sidebar-link">5. 同名的命名空间可以合并</a></li></ul></li><li><a href="/typescript.html#十五、typescript-声明配置" class="sidebar-link">十五、Typescript 声明配置</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript-个人笔记"><a href="#typescript-个人笔记" class="header-anchor">#</a> Typescript 个人笔记</h1> <h2 id="一-什么是-typescript"><a href="#一-什么是-typescript" class="header-anchor">#</a> 一. 什么是 Typescript</h2> <blockquote><p><strong>Typescript</strong>是<strong>Javascript</strong>的超集,遵循最新的 <strong>ES5 和 ES6</strong>规范。<strong>Typescript</strong>扩展了<strong>Javascript</strong>语法</p></blockquote> <ul><li>Typescript 更像后端语言(Java)，让<strong>Javascript</strong>可以开发企业级的大型应用</li> <li>Typescript 提供的类型系统可以帮助我们在写代码时提供丰富的语法提示</li> <li>在编写代码时会让代码进行类型检查从而避免很多线上错误</li> <li>Typescript 不会取代 Javascript,Typescript 最终会被编译成 Javscript</li> <li>Typescript 中有很多类型(自己添加的类型、内置类型)</li> <li>Typescript 只是为了开发者来进行代码约束的</li> <li>Typescript 中要考虑安全性，如果是安全的就可以赋值</li> <li>Typescript 中有所谓的类型推导会根据赋值的类型来推导变量的类型</li></ul> <h2 id="二、基本类型"><a href="#二、基本类型" class="header-anchor">#</a> 二、基本类型</h2> <h3 id="_1-基本类型和类类型的区别"><a href="#_1-基本类型和类类型的区别" class="header-anchor">#</a> 1. 基本类型和类类型的区别</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> num1<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> num2<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> num3<span class="token operator">:</span> Number <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>基本类型只能描述基本类型的值，如果是一个类的实例，需要用类类型去描述
基本不会用到内置的类类型
string、number、boolean 同理</p></blockquote> <h3 id="_2-数组类型"><a href="#_2-数组类型" class="header-anchor">#</a> 2. 数组类型</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-元祖类型"><a href="#_3-元祖类型" class="header-anchor">#</a> 3. 元祖类型</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> tuple<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
tuple<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tuple<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tuple<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tuple<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 为了安全，限制了不能使用第四个</span>
</code></pre></div><h3 id="_4-枚举类型"><a href="#_4-枚举类型" class="header-anchor">#</a> 4. 枚举类型</h3> <h4 id="_1-普通枚举"><a href="#_1-普通枚举" class="header-anchor">#</a> 1. 普通枚举</h4> <ul><li><p>编译前</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">enum</span> Status <span class="token punctuation">{</span>
  <span class="token constant">OK</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token constant">NOT_FOUND</span> <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">,</span>
  <span class="token constant">MOVED</span> <span class="token operator">=</span> <span class="token number">301</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Status<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>编译后</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> Status<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">Status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Status<span class="token punctuation">[</span><span class="token punctuation">(</span>Status<span class="token punctuation">[</span><span class="token string">&quot;OK&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">;</span>
  Status<span class="token punctuation">[</span><span class="token punctuation">(</span>Status<span class="token punctuation">[</span><span class="token string">&quot;NOT_FOUND&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;NOT_FOUND&quot;</span><span class="token punctuation">;</span>
  Status<span class="token punctuation">[</span><span class="token punctuation">(</span>Status<span class="token punctuation">[</span><span class="token string">&quot;MOVED&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">301</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;MOVED&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Status <span class="token operator">||</span> <span class="token punctuation">(</span>Status <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h4 id="_2-常量枚举"><a href="#_2-常量枚举" class="header-anchor">#</a> 2. 常量枚举</h4> <ul><li><p>编译前</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token keyword">enum</span> Status4 <span class="token punctuation">{</span>
  <span class="token constant">OK</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token constant">NOT_FOUND</span> <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">,</span>
  <span class="token constant">MOVED</span> <span class="token operator">=</span> <span class="token number">301</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Status4<span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>编译后</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">200</span> <span class="token comment">/* OK */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h4 id="_3-异构枚举"><a href="#_3-异构枚举" class="header-anchor">#</a> 3. 异构枚举</h4> <ul><li>编译前<div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">enum</span> Status1 <span class="token punctuation">{</span>
  <span class="token constant">OK</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token constant">NOT_FOUND</span> <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">,</span>
  <span class="token constant">MOVED</span> <span class="token operator">=</span> <span class="token number">301</span><span class="token punctuation">,</span>
  a <span class="token operator">=</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// NOT_FOUND和MOVED会自动向后推断为201、202</span>
<span class="token keyword">enum</span> Status2 <span class="token punctuation">{</span>
  <span class="token constant">OK</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token constant">NOT_FOUND</span><span class="token punctuation">,</span>
  <span class="token constant">MOVED</span><span class="token punctuation">,</span>
  a <span class="token operator">=</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// c不会被自动向后推断,ts会报错</span>
<span class="token keyword">enum</span> Status3 <span class="token punctuation">{</span>
  <span class="token constant">OK</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token constant">NOT_FOUND</span><span class="token punctuation">,</span>
  <span class="token constant">MOVED</span><span class="token punctuation">,</span>
  a <span class="token operator">=</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span>
  c<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>编译后<div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> Status1<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">Status1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Status1<span class="token punctuation">[</span><span class="token punctuation">(</span>Status1<span class="token punctuation">[</span><span class="token string">&quot;OK&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">;</span>
  Status1<span class="token punctuation">[</span><span class="token punctuation">(</span>Status1<span class="token punctuation">[</span><span class="token string">&quot;NOT_FOUND&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;NOT_FOUND&quot;</span><span class="token punctuation">;</span>
  Status1<span class="token punctuation">[</span><span class="token punctuation">(</span>Status1<span class="token punctuation">[</span><span class="token string">&quot;MOVED&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">301</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;MOVED&quot;</span><span class="token punctuation">;</span>
  Status1<span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Status1 <span class="token operator">||</span> <span class="token punctuation">(</span>Status1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// NOT_FOUND和MOVED会自动向后推断为201、202</span>
<span class="token keyword">var</span> Status2<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">Status2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Status2<span class="token punctuation">[</span><span class="token punctuation">(</span>Status2<span class="token punctuation">[</span><span class="token string">&quot;OK&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">;</span>
  Status2<span class="token punctuation">[</span><span class="token punctuation">(</span>Status2<span class="token punctuation">[</span><span class="token string">&quot;NOT_FOUND&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;NOT_FOUND&quot;</span><span class="token punctuation">;</span>
  Status2<span class="token punctuation">[</span><span class="token punctuation">(</span>Status2<span class="token punctuation">[</span><span class="token string">&quot;MOVED&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">202</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;MOVED&quot;</span><span class="token punctuation">;</span>
  Status2<span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Status2 <span class="token operator">||</span> <span class="token punctuation">(</span>Status2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h4 id="_4-小结"><a href="#_4-小结" class="header-anchor">#</a> 4. 小结</h4> <ul><li>普通枚举:可以正举，还可以反举(只能是数字的值才可以反举),会被编译成对象结构</li> <li>常量枚举:不会被编译成对象结构，只能取具体的某一项值</li> <li>异构枚举:存在其他的非数字类型,这个非数字类型不能被反举</li></ul> <h3 id="_5-undefined-和-null-类型"><a href="#_5-undefined-和-null-类型" class="header-anchor">#</a> 5. undefined 和 null 类型</h3> <blockquote><p>严格模式下: null 只能给 null，undefined 只能给 undefined
非严格模式下: null 和 undefined 可以赋予给任何类型
通过 ts.config.json 中 strictNullChecks 来开启/关闭 严格模式</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> nu<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> un<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_6-never-类型"><a href="#_6-never-类型" class="header-anchor">#</a> 6. never 类型</h3> <blockquote><p>永远达不到的情况</p></blockquote> <h4 id="_1-程序出错了"><a href="#_1-程序出错了" class="header-anchor">#</a> 1. 程序出错了</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">throwNewError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;出错&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-死循环"><a href="#_2-死循环" class="header-anchor">#</a> 2. 死循环</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">whileTrue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_3-走不到的情况"><a href="#_3-走不到的情况" class="header-anchor">#</a> 3. 走不到的情况</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">ICircle</span> <span class="token operator">=</span> <span class="token punctuation">{</span> r<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> kind<span class="token operator">:</span> <span class="token string">&quot;circle&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">ISquare</span> <span class="token operator">=</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> kind<span class="token operator">:</span> <span class="token string">&quot;square&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">validate</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getArea</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> ICircle <span class="token operator">|</span> ISquare<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 为了安全，联合类型的取值时，只能取到公共的属性</span>
  <span class="token comment">// 可以在类型中添加公共的属性来解决此问题</span>
  <span class="token comment">// if(obj.r) 不能取</span>
  <span class="token comment">// if(obj.width) 不能取</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">&quot;circle&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">.</span>r <span class="token operator">*</span> obj<span class="token punctuation">.</span>r<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">&quot;square&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">.</span>width <span class="token operator">*</span> obj<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 永远都走不到</span>
  <span class="token function">validate</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-void-类型"><a href="#_7-void-类型" class="header-anchor">#</a> 7. void 类型</h3> <blockquote><p>函数不写返回值默认就是 void
undefined 可以兼容 void 类型
void 不可以兼容 undefined 类型</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// undefined可以兼容void类型</span>
<span class="token keyword">function</span> <span class="token function">sum1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// void 不可以兼容 undefined 类型</span>
<span class="token comment">// 这种情况下必须要手动写return undefined</span>
<span class="token keyword">function</span> <span class="token function">sum2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_8-object-类型"><a href="#_8-object-类型" class="header-anchor">#</a> 8. object 类型</h3> <blockquote><p>除了基本类型都可以用 object 来标识，标识对象和我们的函数</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span>target<span class="token operator">:</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 不能去取值 target.xxx</span>
<span class="token punctuation">}</span>
<span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_9-symbol-类型"><a href="#_9-symbol-类型" class="header-anchor">#</a> 9. symbol 类型</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> s1<span class="token operator">:</span> <span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> s2<span class="token operator">:</span> <span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1 <span class="token operator">===</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_10-bigint-类型"><a href="#_10-bigint-类型" class="header-anchor">#</a> 10. bigint 类型</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> b1<span class="token operator">:</span> bigint <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_11-any-类型"><a href="#_11-any-类型" class="header-anchor">#</a> 11. any 类型</h3> <blockquote><p>放弃 ts 中的所有检查,不安全</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_12-字面量类型"><a href="#_12-字面量类型" class="header-anchor">#</a> 12. 字面量类型</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">IA</span></span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 只能为数字类型的1</span>
<span class="token keyword">const</span> num1<span class="token operator">:</span> <span class="token constant">IA</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">direction</span> <span class="token operator">=</span> <span class="token string">&quot;up&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;down&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;left&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;right&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 只能为 'up' | 'down' | 'left' | 'right'中的一个</span>
<span class="token keyword">const</span> d<span class="token operator">:</span> direction <span class="token operator">=</span> <span class="token string">&quot;up&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="三、断言"><a href="#三、断言" class="header-anchor">#</a> 三、断言</h2> <blockquote><p>我不知道是什么类型 我们可以断定他是什么类型
断言后出错了，就要自己承担</p></blockquote> <h3 id="_1-非空断言"><a href="#_1-非空断言" class="header-anchor">#</a> 1. 非空断言</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> el<span class="token operator">:</span> HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// !是typescript中非空断言</span>
el<span class="token operator">!</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 出错后后果自负</span>

<span class="token comment">// ?.是javascript中可选链,只能取值，不能赋值</span>
el<span class="token operator">?.</span>style<span class="token punctuation">.</span>background<span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-as-断言"><a href="#_2-as-断言" class="header-anchor">#</a> 2. as 断言</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">IValue</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> HTMLElement<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getVal</span><span class="token punctuation">(</span>el<span class="token operator">:</span> IValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 断言el为HTMLElement元素，出了事我负责</span>
  <span class="token punctuation">(</span>el <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 断言成别名中不存在的,错误写法</span>
  el <span class="token keyword">as</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-双重断言"><a href="#_3-双重断言" class="header-anchor">#</a> 3. 双重断言</h3> <blockquote><p>不建议使用，可以会发生意想不到的问题</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">IValue</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> HTMLElement<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getVal</span><span class="token punctuation">(</span>el<span class="token operator">:</span> IValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>el <span class="token keyword">as</span> <span class="token builtin">any</span> <span class="token keyword">as</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token punctuation">.</span>valueOf<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-等同-as-语法的另一种写法"><a href="#_4-等同-as-语法的另一种写法" class="header-anchor">#</a> 4. 等同 as 语法的另一种写法</h3> <blockquote><p>以下写法和 as 语法等同(使用比较少，在 JSX 语法中可能会存在问题)</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">IValue</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> HTMLElement<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getVal</span><span class="token punctuation">(</span>el<span class="token operator">:</span> IValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token operator">&lt;</span>HTMLElement<span class="token operator">&gt;</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="四、函数"><a href="#四、函数" class="header-anchor">#</a> 四、函数</h2> <blockquote><p>typescript 中可以给函数添加类型(函数的参数、函数的返回值)</p></blockquote> <h3 id="_1-函数声明标识类型"><a href="#_1-函数声明标识类型" class="header-anchor">#</a> 1. 函数声明标识类型</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-表达式声明标识类型"><a href="#_2-表达式声明标识类型" class="header-anchor">#</a> 2. 表达式声明标识类型</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> sum1 <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">ISum</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sum2<span class="token operator">:</span> ISum <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token comment">// 以ISum声明的为准，并且限制必须按照类型来赋予结果</span>
<span class="token function">sum2</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-函数的默认值"><a href="#_3-函数的默认值" class="header-anchor">#</a> 3. 函数的默认值</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-函数的可选参数"><a href="#_4-函数的可选参数" class="header-anchor">#</a> 4. 函数的可选参数</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> c<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-函数的剩余参数"><a href="#_5-函数的剩余参数" class="header-anchor">#</a> 5. 函数的剩余参数</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> nu mber<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p <span class="token operator">+</span> c<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_6-函数的-this"><a href="#_6-函数的-this" class="header-anchor">#</a> 6. 函数的 this</h3> <blockquote><p>typescript 函数使用中必须要标识 this 的类型</p></blockquote> <ul><li><p>错误写法</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">callThis1</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// &quot;this&quot; 隐式具有类型 &quot;any&quot;</span>
  <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">callThis1</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;zcf&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>正确写法(参数较少情况下)</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 必须在第一个参数，名字必须是this</span>
<span class="token keyword">function</span> <span class="token function">callThis2</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">callThis2</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;zcf&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;af&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>正确写法(参数较多情况下使用 typeof)</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">callThis3</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> MyThis<span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> thisObj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;zcf&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// typescript中的typeof,不是javascript中的typeof</span>
<span class="token keyword">type</span> <span class="token class-name">MyThis</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> thisObj<span class="token punctuation">;</span>
<span class="token function">callThis3</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thisObj<span class="token punctuation">,</span> <span class="token string">&quot;af&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_7-函数的重载"><a href="#_7-函数的重载" class="header-anchor">#</a> 7. 函数的重载</h3> <blockquote><p>只能使用<strong>function</strong>关键字实现重载
完成以下功能
'abc' -&gt; ['a','b','c']
123 -&gt; [1,2,3]</p></blockquote> <ul><li><p>错误写法</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 有可能传的是string，返回的number组成的数组</span>
<span class="token comment">// 有可能传的是number，返回的string组成的数组</span>
<span class="token keyword">function</span> <span class="token function">toArray1</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span>
    <span class="token operator">?</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> r1 <span class="token operator">=</span> <span class="token function">toArray1</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// number[] | string[]</span>
</code></pre></div></li> <li><p>正确写法</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">toArray2</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">toArray2</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">toArray2</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span>
    <span class="token operator">?</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>Number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> r2 <span class="token operator">=</span> <span class="token function">toArray2</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// number[]</span>
<span class="token keyword">const</span> r3 <span class="token operator">=</span> <span class="token function">toArray2</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string[]</span>
</code></pre></div></li></ul> <h2 id="五、类"><a href="#五、类" class="header-anchor">#</a> 五、类</h2> <blockquote><p>类本身可以当做类型，用来描述实例的
typeof 类,用来描述类本身的类型</p></blockquote> <h3 id="_1-属性修饰符"><a href="#_1-属性修饰符" class="header-anchor">#</a> 1. 属性修饰符</h3> <ul><li><p>public</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Circle1</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token keyword">public</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token keyword">public</span> r<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 等价于上面的写法</span>
<span class="token keyword">class</span> <span class="token class-name">Circle2</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> r<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> r<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> r<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>private</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal1</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal1</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 不可以访问</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不可以访问</span>
</code></pre></div></li> <li><p>protectd</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal2</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">protected</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat2</span> <span class="token keyword">extends</span> <span class="token class-name">Animal2</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 可以访问</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> cat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat2</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不可以访问</span>
</code></pre></div></li> <li><p>readonly</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 不能修改</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 不能修改</span>
cat<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;234&quot;</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_2-外界不能-new-可以继承"><a href="#_2-外界不能-new-可以继承" class="header-anchor">#</a> 2. 外界不能 new,可以继承</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal3</span> <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">protected</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat3</span> <span class="token keyword">extends</span> <span class="token class-name">Animal3</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 可以访问</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 不能new,子类可以继承</span>
<span class="token keyword">new</span> <span class="token class-name">Animal3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-外界不能-new-不能继承"><a href="#_3-外界不能-new-不能继承" class="header-anchor">#</a> 3. 外界不能 new,不能继承</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal4</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">protected</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 不可以继承</span>
<span class="token keyword">class</span> <span class="token class-name">Cat4</span> <span class="token keyword">extends</span> <span class="token class-name">Animal4</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 不能new</span>
<span class="token class-name"><span class="token keyword">new</span></span> <span class="token function">Animal4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-小结-2"><a href="#_4-小结-2" class="header-anchor">#</a> 4. 小结</h3> <ul><li>public:自己/子类/外界都可以访问</li> <li>private:自己可以访问,子类/外界不可以访问</li> <li>protectd:自己/子类可以访问,外界不可以访问</li> <li>readonly:只能在初始化的时候修改值,初始化完毕后不能在修改，类似 const</li> <li>属性修饰符定义在 constructor 前,会使得子类是否能被继承，外界是否能 new 的效果</li> <li>属性修饰符定义在类中,会使得类中的 this 有权访问的效果</li> <li>属性修饰符定义在 constructor 的参数中,会使得其参数直接被挂载到实例上</li></ul> <h2 id="六、接口"><a href="#六、接口" class="header-anchor">#</a> 六、接口</h2> <blockquote><p>用来描述数据的形状</p></blockquote> <h3 id="_1-描述函数"><a href="#_1-描述函数" class="header-anchor">#</a> 1. 描述函数</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">ISum2</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> sum2<span class="token operator">:</span> ISum2 <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-描述函数上的属性"><a href="#_2-描述函数上的属性" class="header-anchor">#</a> 2. 描述函数上的属性</h3> <blockquote><p>使用<strong>let</strong>会报错,ts 中的 bug?</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">ISum2</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> sum1<span class="token operator">:</span> ISum2 <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
sum1<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-后端接口返回的数据多-interface-中没定义这么多"><a href="#_3-后端接口返回的数据多-interface-中没定义这么多" class="header-anchor">#</a> 3. 后端接口返回的数据多,interface 中没定义这么多</h3> <ul><li><p>接口中没<strong>aaa</strong>,但是实现中有<strong>aaa</strong>,有问题</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">IFruit</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> fruit<span class="token operator">:</span> IFruit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
  size<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  aaa<span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>通过 ts 的兼容性来解决</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">IFruit</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
  size<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  aaa<span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fruit1<span class="token operator">:</span> IFruit <span class="token operator">=</span> obj<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>断言解决</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 接口中定义的属性在实现过程中必须全部包含,不能少任何一个属性(除了可选属性),因为断言必须包含已存在的</span>
<span class="token keyword">interface</span> <span class="token class-name">IFruit</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> fruit2<span class="token operator">:</span> IFruit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
  size<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  aaa<span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">as</span> IFruit<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>接口继承解决</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">IFruit</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">IFruit2</span> <span class="token keyword">extends</span> <span class="token class-name">IFruit</span> <span class="token punctuation">{</span>
  aaa<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  bbb<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 可选属性,可有可无</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> fruit3<span class="token operator">:</span> IFruit2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
  size<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  aaa<span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>同名接口的自动合并解决</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">IFruit</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">IFruit</span> <span class="token punctuation">{</span>
  aaa<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> fruit3<span class="token operator">:</span> IFruit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
  size<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  aaa<span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>接收任意类型解决</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span> <span class="token comment">// 可以接收任意类型</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;zcf&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_4-interface-修饰符"><a href="#_4-interface-修饰符" class="header-anchor">#</a> 4. interface 修饰符</h3> <ul><li><p>readonly(只读,不可修改)</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">IV</span></span> <span class="token punctuation">{</span>
  <span class="token comment">// 可读，不可修改</span>
  <span class="token keyword">readonly</span> color<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  taste<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">// 可有可无</span>
  size<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> v<span class="token operator">:</span> <span class="token constant">IV</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  color<span class="token operator">:</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span>
  taste<span class="token operator">:</span> <span class="token string">&quot;sweet&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 不可修改</span>
v<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>?(可有可无)</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">IV</span></span> <span class="token punctuation">{</span>
  <span class="token comment">// 可有可无</span>
  size<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> v<span class="token operator">:</span> <span class="token constant">IV</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>as const(将所有的属性设置为只读的，只针对具体的值)</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 将所有的属性都设置为只读的</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>
  color<span class="token operator">:</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span>
  taste<span class="token operator">:</span> <span class="token string">&quot;sweet&quot;</span><span class="token punctuation">,</span>
  size<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token comment">// 不能修改</span>
x<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_5-描述类和类的实例"><a href="#_5-描述类和类的实例" class="header-anchor">#</a> 5. 描述类和类的实例</h3> <h4 id="_1-抽象类"><a href="#_1-抽象类" class="header-anchor">#</a> 1. 抽象类</h4> <blockquote><p>使用 abstract 关键字,增加后此类不能被 new
定义的抽象方式或者抽象属性必须由子类来实现</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token keyword">abstract</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token keyword">abstract</span> <span class="token function">speek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token keyword">abstract</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">drink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;drink&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Tom</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name <span class="token operator">=</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">;</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;eat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">speek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;speek&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-描述实例上的属性和方法"><a href="#_6-描述实例上的属性和方法" class="header-anchor">#</a> 6. 描述实例上的属性和方法</h3> <blockquote><p>冒号在前是用来描述实例
冒号在后是用来描述原型
可以混淆使用，ts 不会区分是原型还是实例</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">IEat</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">eat</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 描述实例上的</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">IEat2</span> <span class="token punctuation">{</span>
  <span class="token function">dirnk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 描述原型上的</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Tom2</span> <span class="token keyword">implements</span> <span class="token class-name">IEat</span><span class="token punctuation">,</span> IEat2 <span class="token punctuation">{</span>
  <span class="token function-variable function">eat</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">dirnk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-描述构造函数"><a href="#_7-描述构造函数" class="header-anchor">#</a> 7. 描述构造函数</h3> <ul><li><p>接口描述</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IClazz2</span> <span class="token punctuation">{</span>
  <span class="token keyword">new</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getInstance</span><span class="token punctuation">(</span>clazz<span class="token operator">:</span> IClazz2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">clazz</span><span class="token punctuation">(</span><span class="token string">&quot;zcf&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// any</span>
<span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token function">getInstance</span><span class="token punctuation">(</span>Mouse<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>别名描述</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">IClazz</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getInstance</span><span class="token punctuation">(</span>clazz<span class="token operator">:</span> IClazz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">clazz</span><span class="token punctuation">(</span><span class="token string">&quot;zcf&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// any</span>
<span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token function">getInstance</span><span class="token punctuation">(</span>Mouse<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_8-interface-和-type-的区别"><a href="#_8-interface-和-type-的区别" class="header-anchor">#</a> 8. interface 和 type 的区别</h3> <ul><li><p>interface 不支持联合类型</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">ISum1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">ISum2</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> sum1<span class="token operator">:</span> ISum1 <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token keyword">let</span> sum2<span class="token operator">:</span> ISum2 <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
sum1 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token comment">// 不支持联合类型</span>
sum2 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>interface 重名会合并,type 重名会报错</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// interface自动合并</span>
<span class="token keyword">interface</span> <span class="token class-name">IFruit</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">IFruit</span> <span class="token punctuation">{</span>
  aaa<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// type会报错</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">IV1</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> aaa<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">IV1</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> aaa<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>interface 可以扩展,type 不能扩展</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">IFruit</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">color</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">IFruit2</span> <span class="token keyword">extends</span> <span class="token class-name">IFruit</span> <span class="token punctuation">{</span>
  aaa<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>interface 不可以使用 in,typeof 可以使用 in</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person1</span> <span class="token punctuation">{</span>
  handsome<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Person2</span> <span class="token punctuation">{</span>
  high<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 可以</span>
<span class="token keyword">type</span> <span class="token class-name">Spread<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 不可以</span>
<span class="token keyword">interface</span> <span class="token class-name">Spread<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
<span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="七、泛型"><a href="#七、泛型" class="header-anchor">#</a> 七、泛型</h2> <blockquote><p>在定义类型的时候不确定是什么类型，在使用的时候在知道
一般泛型都用一个单独的大写字母来表示</p></blockquote> <h3 id="_1-泛型在普通函数中使用"><a href="#_1-泛型在普通函数中使用" class="header-anchor">#</a> 1. 泛型在普通函数中使用</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getInstance</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  clazz<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>clazz <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">clazz</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">clazz</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> instance1 <span class="token operator">=</span> <span class="token generic-function"><span class="token function">getInstance</span><span class="token generic class-name"><span class="token operator">&lt;</span>Mouse<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>Mouse<span class="token punctuation">,</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> instance2 <span class="token operator">=</span> <span class="token generic-function"><span class="token function">getInstance</span><span class="token generic class-name"><span class="token operator">&lt;</span>Dog<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>Dog<span class="token punctuation">,</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">createArray</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>times<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> val<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-泛型在箭头函数中使用"><a href="#_2-泛型在箭头函数中使用" class="header-anchor">#</a> 2. 泛型在箭头函数中使用</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> createArray <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>times<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> val<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-泛型在-interface-中使用"><a href="#_3-泛型在-interface-中使用" class="header-anchor">#</a> 3. 泛型在 interface 中使用</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">ICreateArray</span> <span class="token punctuation">{</span>
  <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>times<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> val<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> createArray<span class="token operator">:</span> <span class="token function-variable function">ICreateArray</span> <span class="token operator">=</span> <span class="token punctuation">(</span>times<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-泛型在-type-中使用"><a href="#_4-泛型在-type-中使用" class="header-anchor">#</a> 4. 泛型在 type 中使用</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">ICreateArray</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>times<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> val<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> createArray<span class="token operator">:</span> <span class="token function-variable function">ICreateArray</span> <span class="token operator">=</span> <span class="token punctuation">(</span>times<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-两种泛型的区别"><a href="#_5-两种泛型的区别" class="header-anchor">#</a> 5. 两种泛型的区别</h3> <blockquote><p>在函数前面声明的泛型表示调用的时候才会确定泛型
在接口关键字后或者别名后声明的泛型表示使用接口或别名的时候确定的泛型</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">ICallback<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> forEach <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>arr<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> callback<span class="token operator">:</span> ICallback<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">callback</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_6-多个泛型"><a href="#_6-多个泛型" class="header-anchor">#</a> 6. 多个泛型</h3> <blockquote><p>注意:泛型在没有确定类型前，是不能做运算，取值操作的</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">swap</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>tuple<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>tuple<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tuple<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 注意:泛型在没有确定类型前，是不能做运算，取值操作的</span>
<span class="token comment">// error</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">sum</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token comment">// 无法保证两个泛型相加，T + T =&gt; T? (false + false = 0)</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_7-泛型约束"><a href="#_7-泛型约束" class="header-anchor">#</a> 7. 泛型约束</h3> <blockquote><p>更细致的约束泛型的特征</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 传进来的参数必须满足是number类型</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">sum2</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> r1 <span class="token operator">=</span> <span class="token function">sum2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_8-keyof"><a href="#_8-keyof" class="header-anchor">#</a> 8. keyof</h3> <blockquote><p>写一个方法,有 2 个参数(obj,key)
obj 必须是一个对象,
限制 key 必须包含在 obj 中</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;zcf&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">19</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;cxh&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">19</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getValueByKey</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> r2 <span class="token operator">=</span> <span class="token function">getValueByKey</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> r3 <span class="token operator">=</span> <span class="token function">getValueByKey</span><span class="token punctuation">(</span>o2<span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_9-keyof-和-typeof-区别"><a href="#_9-keyof-和-typeof-区别" class="header-anchor">#</a> 9. keyof 和 typeof 区别</h3> <blockquote><p>keyof 取的是某个泛型中的所有 key
typeof 取的是一个某个值中的所有类型</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;zcf&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">19</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;cxh&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">19</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// keyof 取的是某个类型中的所有key</span>
<span class="token comment">// typeof 取的是一个对象所有的类型</span>
<span class="token keyword">type</span> <span class="token class-name">xx</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> o1<span class="token punctuation">;</span> <span class="token comment">// {name:string,age:number}</span>
<span class="token keyword">type</span> <span class="token class-name">xxx</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token keyword">typeof</span> o1<span class="token punctuation">;</span> <span class="token comment">//  name | age</span>
</code></pre></div><h2 id="八、交叉类型和联合类型"><a href="#八、交叉类型和联合类型" class="header-anchor">#</a> 八、交叉类型和联合类型</h2> <blockquote><p>交叉类型(交集 &amp;)
联合类型(并集 |)</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person1</span> <span class="token punctuation">{</span>
  handsome<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Person2</span> <span class="token punctuation">{</span>
  high<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Spread<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 循环类型</span>
  <span class="token comment">// 循环T中所有的key,用K接收</span>
  <span class="token comment">// 值为T[K]</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Person3</span> <span class="token operator">=</span> Spread<span class="token operator">&lt;</span>Person1 <span class="token operator">&amp;</span> Person2<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> person3<span class="token operator">:</span> Person3 <span class="token operator">=</span> <span class="token punctuation">{</span>
  handsome<span class="token operator">:</span> <span class="token string">&quot;帅&quot;</span><span class="token punctuation">,</span>
  high<span class="token operator">:</span> <span class="token string">&quot;高&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="九、内置类型实现"><a href="#九、内置类型实现" class="header-anchor">#</a> 九、内置类型实现</h2> <h3 id="_1-exclude"><a href="#_1-exclude" class="header-anchor">#</a> 1. Exclude</h3> <blockquote><p>排除掉某个类型</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Exclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">K</span></span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token comment">// 排除掉了string</span>
<span class="token keyword">type</span> <span class="token class-name">ExcludeType</span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-extract"><a href="#_2-extract" class="header-anchor">#</a> 2. Extract</h3> <blockquote><p>只想要某一个类型</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Extract<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">K</span></span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token comment">// 只要string</span>
<span class="token keyword">type</span> <span class="token class-name">ExtractType</span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-nonnullable"><a href="#_3-nonnullable" class="header-anchor">#</a> 3. NonNullable</h3> <blockquote><p>排除掉 null 和 undefined 的</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">NonNullable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token keyword">null</span></span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token comment">// 排除掉null和undefined</span>
<span class="token keyword">type</span> <span class="token class-name">NoNullType</span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-partial"><a href="#_4-partial" class="header-anchor">#</a> 4. Partial</h3> <blockquote><p>将所有参数变成可选的(只处理了第一层)</p></blockquote> <ul><li><p>浅实现(只处理第一层)</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span> <span class="token punctuation">{</span>
    num<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">MyPartial</span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>深实现(处理所有层)</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span> <span class="token punctuation">{</span>
    num<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">DPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">object</span> <span class="token operator">?</span> DPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">MyPartial</span> <span class="token operator">=</span> DPartial<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_5-required"><a href="#_5-required" class="header-anchor">#</a> 5. Required</h3> <blockquote><p>将所有参数变成必填的</p></blockquote> <ul><li><p>浅实现(只处理第一层)</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span> <span class="token punctuation">{</span>
    num<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Required<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 这里的 -? 是将类型中原有的可选去掉</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">MyRequired</span> <span class="token operator">=</span> Required<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>深实现(处理所有层)</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span> <span class="token punctuation">{</span>
    num<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">DRequired<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 这里的 -? 是将类型中原有的可选去掉</span>
  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">object</span> <span class="token operator">?</span> DRequired<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">MyRequired</span> <span class="token operator">=</span> DRequired<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_6-readonly"><a href="#_6-readonly" class="header-anchor">#</a> 6. Readonly</h3> <blockquote><p>将所有参数变成只读的(只处理了第一层)</p></blockquote> <ul><li>浅实现(只处理第一层)<div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span> <span class="token punctuation">{</span>
    num<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Readonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">MyReadonly</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>深实现(处理所有层)<div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span> <span class="token punctuation">{</span>
    num<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">DReadonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">object</span> <span class="token operator">?</span> DReadonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">MyReadonly</span> <span class="token operator">=</span> DReadonly<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_7-pick"><a href="#_7-pick" class="header-anchor">#</a> 7. Pick</h3> <blockquote><p>挑选出列举的属性</p></blockquote> <ul><li>实现<div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// K必须是T中的值</span>
<span class="token keyword">type</span> <span class="token class-name">Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 循环K('type' | 'address'),拿到每一个key(M),返回T[M]</span>
  <span class="token punctuation">[</span><span class="token constant">M</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">M</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">PickType</span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>Animal<span class="token punctuation">,</span> <span class="token string">&quot;type&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;address&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_8-omit"><a href="#_8-omit" class="header-anchor">#</a> 8. Omit</h3> <blockquote><p>忽略列举的属性</p></blockquote> <ul><li>实现<div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 循环去掉name的所有key,拿到每一个key(M),返回T[M]</span>
  <span class="token punctuation">[</span><span class="token constant">M</span> <span class="token keyword">in</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">M</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">OmitType</span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Animal<span class="token punctuation">,</span> <span class="token string">&quot;address&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_9-record"><a href="#_9-record" class="header-anchor">#</a> 9. Record</h3> <blockquote><p>记录 key:value(一般用来表示函数的参数)</p></blockquote> <ul><li>例子<div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// keyof any 是列举对象的key能支持的类型</span>
<span class="token comment">// R 为占位符,不知道回调的返回值</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">mapping</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  obj<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token constant">K</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">V</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">R</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token constant">K</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> Record<span class="token operator">&lt;</span><span class="token constant">K</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> mapResult <span class="token operator">=</span> <span class="token function">mapping</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>实现<div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// keyof any 是列举对象的key能支持的类型</span>
<span class="token keyword">type</span> <span class="token class-name">Record<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">X</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">V</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_10-对象的-merge"><a href="#_10-对象的-merge" class="header-anchor">#</a> 10. 对象的 merge</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person1</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Person2</span> <span class="token punctuation">{</span>
  high<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> o1<span class="token operator">:</span> Person1 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;zcf&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> o2<span class="token operator">:</span> Person2 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> high<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 忽略掉Person1的name属性</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T</span></span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Person1<span class="token punctuation">,</span> <span class="token keyword">keyof</span> Person2<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token comment">// 两个类型进行合并</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">M</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> Person2<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">merge</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>o1<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> o2<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span><span class="token operator">:</span> Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token keyword">keyof</span> <span class="token constant">K</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span> <span class="token constant">K</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>o1<span class="token punctuation">,</span> <span class="token operator">...</span>o2 <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// number类型</span>
</code></pre></div><h2 id="十、类型保护"><a href="#十、类型保护" class="header-anchor">#</a> 十、类型保护</h2> <h3 id="_1-typeof"><a href="#_1-typeof" class="header-anchor">#</a> 1. typeof</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">isType</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-instanceof"><a href="#_2-instanceof" class="header-anchor">#</a> 2. instanceof</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">isAnimal</span><span class="token punctuation">(</span>val<span class="token operator">:</span> Person <span class="token operator">|</span> Animal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-in"><a href="#_3-in" class="header-anchor">#</a> 3. in</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person1</span> <span class="token punctuation">{</span>
  handsome<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Person2</span> <span class="token punctuation">{</span>
  handsome<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">isPerson1</span><span class="token punctuation">(</span>val<span class="token operator">:</span> Person1 <span class="token operator">|</span> Person2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;handsome&quot;</span> <span class="token keyword">in</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-自定义类型保护"><a href="#_4-自定义类型保护" class="header-anchor">#</a> 4. 自定义类型保护</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span>
  kind<span class="token operator">:</span> <span class="token string">&quot;circle&quot;</span><span class="token punctuation">;</span>
  r<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Rant</span> <span class="token punctuation">{</span>
  kind<span class="token operator">:</span> <span class="token string">&quot;rant&quot;</span><span class="token punctuation">;</span>
  width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// val is Circle 代表返回值为true的就是圆</span>
<span class="token keyword">function</span> <span class="token function">isCircle</span><span class="token punctuation">(</span>val<span class="token operator">:</span> Circle <span class="token operator">|</span> Rant<span class="token punctuation">)</span><span class="token operator">:</span> val <span class="token keyword">is</span> Circle <span class="token punctuation">{</span>
  <span class="token keyword">return</span> val<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">&quot;circle&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getArea</span><span class="token punctuation">(</span>val<span class="token operator">:</span> Circle <span class="token operator">|</span> Rant<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isCircle</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ts不知道isCircle的调用结果 true代表圆还是 false代表圆</span>
    <span class="token comment">// 我们需要自定义类型保护</span>
    val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="十一、类型的兼容性"><a href="#十一、类型的兼容性" class="header-anchor">#</a> 十一、类型的兼容性</h2> <blockquote><p>ts 中的兼容性,不要死记硬背
ts 永远从我们的安全性来考虑,如果安全则可以赋值</p></blockquote> <h3 id="_1-联合类型的兼容性"><a href="#_1-联合类型的兼容性" class="header-anchor">#</a> 1. 联合类型的兼容性</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> n1<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n2<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

<span class="token comment">// n1可以赋值给n2(因为n1中有的n2中都有)(少给多)</span>
n2 <span class="token operator">=</span> n1<span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-接口的兼容性-多给少"><a href="#_2-接口的兼容性-多给少" class="header-anchor">#</a> 2. 接口的兼容性(多给少)</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Fruit1</span> <span class="token punctuation">{</span>
  color<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Fruit2</span> <span class="token punctuation">{</span>
  color<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  taset<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> fruit1<span class="token operator">!</span><span class="token operator">:</span> Fruit1<span class="token punctuation">;</span>
<span class="token keyword">let</span> fruit2<span class="token operator">!</span><span class="token operator">:</span> Fruit2<span class="token punctuation">;</span>

fruit1 <span class="token operator">=</span> fruit2<span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-函数的兼容性"><a href="#_3-函数的兼容性" class="header-anchor">#</a> 3. 函数的兼容性</h3> <ul><li>对于参数而言(少给多)<div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> fn1<span class="token operator">!</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> fn2<span class="token operator">!</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
fn2 <span class="token operator">=</span> fn1<span class="token punctuation">;</span>
</code></pre></div></li> <li>对于返回值而言(少给多)<div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> fn3<span class="token operator">!</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> fn4<span class="token operator">!</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
fn3 <span class="token operator">=</span> fn4<span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_4-类的兼容性"><a href="#_4-类的兼容性" class="header-anchor">#</a> 4. 类的兼容性</h3> <blockquote><p>鸭子类型检测，只要长得一样就认为是鸭子
在类中一旦有了除 public 之外的其他修饰符(private,protect)就永远不相等了</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 可以互相赋值</span>
person <span class="token operator">=</span> animal<span class="token punctuation">;</span>
animal <span class="token operator">=</span> person<span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-枚举的兼容性"><a href="#_5-枚举的兼容性" class="header-anchor">#</a> 5. 枚举的兼容性</h3> <blockquote><p>枚举不兼容,无法互相赋值</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">enum</span> <span class="token constant">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">enum</span> <span class="token constant">B</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-父子间的兼容-协变和逆变"><a href="#_6-父子间的兼容-协变和逆变" class="header-anchor">#</a> 6. 父子间的兼容 协变和逆变</h3> <ul><li><p>逆变(传父亲)</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> money<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> car<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Grandson</span> <span class="token keyword">extends</span> <span class="token class-name">Son</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> pay<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token function-variable function">cb</span><span class="token operator">:</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> Son<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Son<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token operator">:</span> Son<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token operator">:</span> Parent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 不可以传孙子,因为Son没有pay</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token operator">:</span> Grandson<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 对于联合类型而言:参数多的是父亲(传递父亲逆变)</span>
<span class="token keyword">function</span> <span class="token function">fn5</span><span class="token punctuation">(</span><span class="token function-variable function">cb</span><span class="token operator">:</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 返回儿子(参数少的)斜变</span>
<span class="token function">fn5</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>斜变(反儿子)</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> money<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> car<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Grandson</span> <span class="token keyword">extends</span> <span class="token class-name">Son</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> pay<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token function-variable function">cb</span><span class="token operator">:</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> Son<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Son<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 返回儿子</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token operator">:</span> Parent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Grandson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>双向斜变(可以传父亲,可以传儿子)</p> <blockquote><p>如果关闭 strictFunctionTypes 字段,参数则是双向斜变的(可以传父亲，也可以传儿子)</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> money<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> car<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Grandson</span> <span class="token keyword">extends</span> <span class="token class-name">Son</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> pay<span class="token operator">!</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token operator">:</span> Parent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 如果关闭 strictFunctionTypes 字段,可以双向斜变</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token operator">:</span> Grandson<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h2 id="十二、unknown"><a href="#十二、unknown" class="header-anchor">#</a> 十二、unknown</h2> <blockquote><p>unknown 和 any 类型非常相似，但是是一个安全类型。我们在使用 unknown 类型的时候需要将类型进行具体化。缩小范围在使用
任何类型都是 unknown 的子类型，如果当前类型是 unknown,只能将这个类型赋予给 unknown 或 any
可以将所有不知道的类型标识成 unknown,但是有的场景还是要用 any
unknown 和任何类型作为联合类型 返回的都是 unknown
标记为了 unknown 之后不能取值、赋值、运算</p></blockquote> <ul><li><p>例 1</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 会使得我们不得不补充代码逻辑来完善</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// a的ts类型就是string</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//  a的ts类型就是number</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> a <span class="token keyword">as</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>例 2</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> data<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{name:&quot;zcf&quot;,age:20}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">isValid</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> data <span class="token keyword">is</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> data<span class="token punctuation">.</span>age <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>age <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isValid</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  data<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  data<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>例 3</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">inter</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token operator">&amp;</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// number</span>
<span class="token keyword">type</span> <span class="token class-name">Key</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span> <span class="token comment">// never,不支持 keyof</span>
</code></pre></div></li></ul> <h2 id="十三、infer"><a href="#十三、infer" class="header-anchor">#</a> 十三、infer</h2> <h3 id="_1-推断函数返回值"><a href="#_1-推断函数返回值" class="header-anchor">#</a> 1. 推断函数返回值</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;zcf&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">19</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 在没有调用函数前拿到函数返回值</span>
<span class="token comment">// 推断函数返回值</span>
<span class="token keyword">type</span> <span class="token class-name">Func</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">ReturnType<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> Func<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">infer</span> <span class="token constant">R</span>
  <span class="token operator">?</span> <span class="token constant">R</span>
  <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">MyType</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> getUserInfo<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-推断函数参数"><a href="#_2-推断函数参数" class="header-anchor">#</a> 2. 推断函数参数</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 推断函数参数</span>
<span class="token keyword">function</span> <span class="token function">getUserInfo2</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// [name: string, age: number]</span>
<span class="token keyword">type</span> <span class="token class-name">Parameters<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> Func<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">X</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
  <span class="token operator">?</span> <span class="token constant">X</span>
  <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">MyParamaters</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token keyword">typeof</span> getUserInfo2<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="十四、命名空间"><a href="#十四、命名空间" class="header-anchor">#</a> 十四、命名空间</h2> <blockquote><p>namespace 这个一般在项目中使用不到，在编写声明文件的时候一般会被用到
我们在一个模块中，想维护多段逻辑，而且逻辑中有重名的部分(命名冲突)</p></blockquote> <h3 id="_1-基本语法"><a href="#_1-基本语法" class="header-anchor">#</a> 1. 基本语法</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">namespace</span> Zoo <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Monkey</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">namespace</span> Home <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Monkey</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">namespace</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Monkey</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> <span class="token constant">F</span> <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">const</span> cat <span class="token operator">=</span> <span class="token string">&quot;猫&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token keyword">const</span> panda <span class="token operator">=</span> <span class="token string">&quot;熊猫&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Zoo<span class="token punctuation">.</span>Monkey<span class="token punctuation">;</span>
Home<span class="token punctuation">.</span>Monkey<span class="token punctuation">;</span>
<span class="token constant">T</span><span class="token punctuation">.</span><span class="token constant">F</span><span class="token punctuation">.</span>cat<span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-命名空间可以和类进行合并"><a href="#_2-命名空间可以和类进行合并" class="header-anchor">#</a> 2. 命名空间可以和类进行合并</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Home2</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">namespace</span> Home2 <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> aa <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Home2<span class="token punctuation">.</span>aa<span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-命名空间可以和函数进行合并"><a href="#_3-命名空间可以和函数进行合并" class="header-anchor">#</a> 3. 命名空间可以和函数进行合并</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">Home3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">namespace</span> Home3 <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> bb <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Home3<span class="token punctuation">.</span>bb<span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-命名空间和接口无法合并"><a href="#_4-命名空间和接口无法合并" class="header-anchor">#</a> 4. 命名空间和接口无法合并</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Home4</span> <span class="token punctuation">{</span>
  b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">namespace</span> Home4 <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Home4<span class="token punctuation">.</span>a<span class="token punctuation">;</span>
Home4<span class="token punctuation">.</span>b<span class="token punctuation">;</span> <span class="token comment">// error</span>
</code></pre></div><h3 id="_5-同名的命名空间可以合并"><a href="#_5-同名的命名空间可以合并" class="header-anchor">#</a> 5. 同名的命名空间可以合并</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">namespace</span> Home4 <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">namespace</span> Home4 <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Home4<span class="token punctuation">.</span>a<span class="token punctuation">;</span>
Home4<span class="token punctuation">.</span>b<span class="token punctuation">;</span>
</code></pre></div><h2 id="十五、typescript-声明配置"><a href="#十五、typescript-声明配置" class="header-anchor">#</a> 十五、Typescript 声明配置</h2> <blockquote><p>.d.ts 文件为了放 declare 语法的，让我们的代码有友好的提示
没有实际功能，就是为了在其他模块中使用 jqueryName 代码不报错
使用 declare 都是全局的，可以直接声明，但是不能有具体的实现</p></blockquote> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 没有实际功能，就是为了在其他模块中使用jqueryName代码不报错</span>
<span class="token keyword">declare</span> <span class="token keyword">const</span> jqueryName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">css</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function">html</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> $ <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> fn <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">getArr</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">getArr</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 给原型定义方法</span>
<span class="token keyword">interface</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">aa</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;*.vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 可以导入任意.vue文件不报错</span>

<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;*.vue&quot;</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.79aff25b.js" defer></script><script src="/assets/js/2.69b5c96a.js" defer></script><script src="/assets/js/16.c4a3319a.js" defer></script>
  </body>
</html>
